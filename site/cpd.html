<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2015-03-03 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>WattDepot &#x2013; CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20150303" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                WattDepot
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2015-03-03</span>
                  &nbsp;| <span id="projectVersion">Version: 3.0.1</span>
                      </div>
            <div class="xright">                    <a href="./" title="WattDepot">WattDepot</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                          <h5>Project Documentation</h5>
                  <ul>
                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                        <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="findbugs.html" title="FindBugs">FindBugs</a>
            </li>
                      <li class="none">
                          <a href="checkstyle.html" title="Checkstyle">Checkstyle</a>
            </li>
                      <li class="none">
            <strong>CPD</strong>
          </li>
                      <li class="none">
                          <a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
            </li>
                      <li class="none">
                          <a href="testapidocs/index.html" title="Test JavaDocs">Test JavaDocs</a>
            </li>
                      <li class="none">
                          <a href="jacoco/index.html" title="JaCoCo">JaCoCo</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.2.1.</p></div>
<div class="section">
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/http/api/DepositoryMeasurementsServer.java</td>
<td><a href="./xref/org/wattdepot/server/http/api/DepositoryMeasurementsServer.html#L77">77</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/http/api/SensorMeasurementServerResource.java</td>
<td><a href="./xref/org/wattdepot/server/http/api/SensorMeasurementServerResource.html#L113">113</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    if (isInRole(orgId)) {
      if (start != null &amp;&amp; end != null) {
        MeasurementList ret = new MeasurementList();
        try {
          Depository depository = depot.getDepository(depositoryId, orgId, true);
          if (depository != null) {
            Date startDate = DateConvert.parseCalStringToDate(start);
            Date endDate = DateConvert.parseCalStringToDate(end);
            if (startDate != null &amp;&amp; endDate != null) {
              try {
                Sensor sensor = depot.getSensor(sensorId, orgId, true);
                for (Measurement meas : depot.getMeasurements(depositoryId, orgId, sensor.getId(),
                    startDate, endDate, true)) {
                  ret.getMeasurements().add(meas);
                }
              }
              catch (IdNotFoundException nf) {
                try {
                  SensorGroup group = depot.getSensorGroup(sensorId, orgId, true);
                  for (String s : group.getSensors()) {
                    Sensor sensor = depot.getSensor(s, orgId, true);
                    for (Measurement meas : depot.getMeasurements(depositoryId, orgId,
                        sensor.getId(), startDate, endDate, true)) {
                      ret.getMeasurements().add(meas);
                    }
                  }
                }
                catch (IdNotFoundException nf1) {
                  setStatus(Status.CLIENT_ERROR_BAD_REQUEST, sensorId + &quot; is not defined&quot;);
                }
              }
            }
            else {
              setStatus(Status.CLIENT_ERROR_BAD_REQUEST, &quot;Start date and/or end date missing.&quot;);
            }
          }
          else {
            setStatus(Status.CLIENT_ERROR_BAD_REQUEST, depositoryId + &quot; is not defined.&quot;);
          }
        }
        catch (IdNotFoundException e) {
          setStatus(Status.CLIENT_ERROR_BAD_REQUEST, e.getMessage());
        }
        catch (ParseException e) {
          setStatus(Status.CLIENT_ERROR_BAD_REQUEST, e.getMessage());
        }
        catch (DatatypeConfigurationException e) {
          setStatus(Status.SERVER_ERROR_INTERNAL, e.getMessage());
        }
        catch (MisMatchedOwnerException e) {
          setStatus(Status.CLIENT_ERROR_BAD_REQUEST, e.getMessage());
        }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L345">345</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L324">324</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>      formatter.printHelp(&quot;EGaugeCollector&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://localhost:8119/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = UserInfo.ROOT.getUid();
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = Organization.ADMIN_GROUP.getId();
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;c&quot;)) {
      collectorId = cmd.getOptionValue(&quot;c&quot;);
    }
    else {
      collectorId = &quot;ilima_6th_power&quot;;
    }

    debug = cmd.hasOption(&quot;d&quot;);

    if (debug) {
      System.out.println(&quot;WattDepot Server: &quot; + serverUri);
      System.out.println(&quot;Username: &quot; + username);
      System.out.println(&quot;OrganizationID: &quot; + organizationId);
      System.out.println(&quot;Password: &quot; + password);
      System.out.println(&quot;Collector Process Definition Id: &quot; + collectorId);
      System.out.println(&quot;debug: &quot; + debug);
      System.out.println();
    }
    try {
      if (!MultiThreadedCollector.start(serverUri, username, organizationId, password, collectorId,
          debug)) {
        System.exit(1);
      }
    }
    catch (InterruptedException e) {
      e.printStackTrace();
      System.exit(1);
    }
    catch (BadCredentialException e) {
      e.printStackTrace();
      System.exit(1);
    }
  }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/PutCollectorRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutCollectorRate.html#L70">70</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/PutRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutRate.html#L68">68</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    options.addOption(&quot;cpd&quot;, &quot;collector&quot;, true, &quot;The collector process definition&quot;);
    options.addOption(&quot;d&quot;, &quot;debug&quot;, false, &quot;Displays statistics as the Measurements are stored.&quot;);
    CommandLineParser parser = new PosixParser();
    HelpFormatter formatter = new HelpFormatter();
    try {
      cmd = parser.parse(options, args);
    }
    catch (ParseException e) {
      System.err.println(&quot;Command line parsing failed. Reason: &quot; + e.getMessage() + &quot;. Exiting.&quot;);
      System.exit(1);
    }
    if (cmd.hasOption(&quot;h&quot;)) {
      formatter.printHelp(&quot;PutRate&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://server.wattdepot.org/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = &quot;user&quot;;
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = &quot;organization&quot;;
    }
    if (cmd.hasOption(&quot;mps&quot;)) {
      measPerSec = Integer.parseInt(cmd.getOptionValue(&quot;mps&quot;));
    }
    else {
      measPerSec = 13;
    }
    debug = cmd.hasOption(&quot;d&quot;);
    if (cmd.hasOption(&quot;cpd&quot;)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.html#L2908">2908</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.html#L3034">3034</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        .setParameter(&quot;sensor&quot;, sensor).setMaxResults(1).list();
    if (result.size() &gt; 0) {
      ret = result.get(0).getValue();
    }
    else {
      // need to get the stradle
      @SuppressWarnings(&quot;unchecked&quot;)
      List&lt;MeasurementImpl&gt; before = (List&lt;MeasurementImpl&gt;) session
          .createQuery(
              &quot;FROM MeasurementImpl WHERE timestamp &lt;= :time AND depository = :depot AND sensor = :sensor ORDER BY timestamp desc&quot;)
          .setParameter(&quot;time&quot;, timestamp).setParameter(&quot;depot&quot;, depot)
          .setParameter(&quot;sensor&quot;, sensor).setMaxResults(1).list();
      @SuppressWarnings(&quot;unchecked&quot;)
      List&lt;MeasurementImpl&gt; after = (List&lt;MeasurementImpl&gt;) session
          .createQuery(
              &quot;FROM MeasurementImpl WHERE timestamp &gt;= :time AND depository = :depot AND sensor = :sensor ORDER BY timestamp asc&quot;)
          .setParameter(&quot;time&quot;, timestamp).setMaxResults(1).setParameter(&quot;depot&quot;, depot)
          .setParameter(&quot;sensor&quot;, sensor).list();
      MeasurementImpl justBefore = null;
      for (MeasurementImpl b : before) {
        if (b.getSensor().getId().equals(sensorId)) {
          if (justBefore == null) {
            justBefore = b;
          }
          else if (b.getTimestamp().compareTo(justBefore.getTimestamp()) &gt; 0) {
            justBefore = b;
          }
        }
      }
      if (justBefore == null) {
        session.getTransaction().commit();
        session.close();
        throw new NoMeasurementException(&quot;Cannot find measurement before &quot; + timestamp);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/Manager.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/Manager.html#L56">56</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/Manager.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/Manager.html#L104">104</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>          .addAnnotatedClass(org.wattdepot.server.depository.impl.hibernate.RowCount.class)
          .addAnnotatedClass(org.wattdepot.server.depository.impl.hibernate.SensorImpl.class)
          .addAnnotatedClass(org.wattdepot.server.depository.impl.hibernate.SensorGroupImpl.class)
          .addAnnotatedClass(org.wattdepot.server.depository.impl.hibernate.SensorModelImpl.class)
          .addAnnotatedClass(org.wattdepot.server.depository.impl.hibernate.OrganizationImpl.class)
          .addAnnotatedClass(org.wattdepot.server.depository.impl.hibernate.UserInfoImpl.class)
          .addAnnotatedClass(org.wattdepot.server.depository.impl.hibernate.UserPasswordImpl.class)
          .setProperty(&quot;hibernate.connection.driver_class&quot;,
              properties.get(ServerProperties.DB_CONNECTION_DRIVER))
          .setProperty(&quot;hibernate.connection.url&quot;,
              properties.get(ServerProperties.DB_CONNECTION_URL))
          .setProperty(&quot;hibernate.connection.username&quot;,
              properties.get(ServerProperties.DB_USER_NAME))
          .setProperty(&quot;hibernate.connection.password&quot;,
              properties.get(ServerProperties.DB_PASSWORD))
          .setProperty(&quot;hibernate.c3p0.min_size&quot;, &quot;5&quot;).setProperty(&quot;hibernate.c3p0.max_size&quot;, &quot;20&quot;)
          .setProperty(&quot;hibernate.c3p0.timeout&quot;, &quot;1800&quot;)
          .setProperty(&quot;hibernate.c3p0.max_statements&quot;, &quot;50&quot;)
          .setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;)
          .setProperty(&quot;hibernate.show_sql&quot;, properties.get(ServerProperties.DB_SHOW_SQL))
          .setProperty(&quot;hibernate.hbm2ddl.auto&quot;, properties.get(ServerProperties.DB_TABLE_UPDATE));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L137">137</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L136">136</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>      formatter.printHelp(&quot;GetIntervalValueThroughput&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://server.wattdepot.org/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = &quot;user&quot;;
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = &quot;organization&quot;;
    }
    if (cmd.hasOption(&quot;n&quot;)) {
      numSamples = Integer.parseInt(cmd.getOptionValue(&quot;n&quot;));
    }
    else {
      numSamples = 13;
    }
    debug = cmd.hasOption(&quot;d&quot;);
    if (debug) {
      System.out.println(&quot;GetLatestValue Throughput:&quot;);
      System.out.println(&quot;    WattDepotServer: &quot; + serverUri);
      System.out.println(&quot;    Username: &quot; + username);
      System.out.println(&quot;    OrganizationId: &quot; + organizationId);
      System.out.println(&quot;    Password: ********&quot;);
      System.out.println(&quot;    Samples: &quot; + numSamples);
    }

    Timer t = new Timer(&quot;monitoring&quot;);
    t.schedule(
        new GetIntervalValueThroughput(serverUri, username, organizationId, password, debug), 0,</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/MeasurementSummaryClient.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MeasurementSummaryClient.html#L116">116</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/StressTestCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressTestCollector.html#L140">140</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    boolean windowP = false;

    CommandLineParser parser = new PosixParser();
    HelpFormatter formatter = new HelpFormatter();
    try {
      cmd = parser.parse(options, args);
    }
    catch (ParseException e) {
      System.err.println(&quot;Command line parsing failed. Reason: &quot; + e.getMessage() + &quot;. Exiting.&quot;);
      System.exit(1);
    }
    if (cmd.hasOption(&quot;h&quot;)) {
      formatter.printHelp(&quot;StressTestCollector&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://server.wattdepot.org/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = &quot;user&quot;;
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = &quot;organization&quot;;
    }
    if (cmd.hasOption(&quot;c&quot;)) {
      collectorId = cmd.getOptionValue(&quot;c&quot;);
    }
    else {
      collectorId = &quot;stress_test&quot;;
    }
    if (cmd.hasOption(&quot;m&quot;)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/WattDepotClient.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/WattDepotClient.html#L1069">1069</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/WattDepotClient.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/WattDepotClient.html#L1130">1130</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>      sb.append(sensor.getId());
      sb.append(&quot;&amp;&quot;);
      sb.append(Labels.START);
      sb.append(&quot;=&quot;);
      sb.append(DateConvert.convertDate(start));
      sb.append(&quot;&amp;&quot;);
      sb.append(Labels.END);
      sb.append(&quot;=&quot;);
      sb.append(DateConvert.convertDate(end));
      sb.append(&quot;&amp;&quot;);
      sb.append(Labels.INTERVAL);
      sb.append(&quot;=&quot;);
      sb.append(interval);
      sb.append(&quot;&amp;&quot;);
      sb.append(Labels.VALUE_TYPE);
      sb.append(&quot;=&quot;);
      if (usePointValues) {
        sb.append(Labels.POINT);
      }
      else {
        sb.append(Labels.DIFFERENCE);
      }
      client = makeClient(sb.toString());
      DepositoryValuesResource resource = client.wrap(DepositoryValuesResource.class);
      InterpolatedValueList ret = resource.retrieve();
      client.release();
      return ret;
    }
    catch (DatatypeConfigurationException e) {
      e.printStackTrace();
    }
    finally {
      if (client != null) {
        client.release();
      }
    }
    return null;
  }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/common/domainmodel/InterpolatedValue.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/InterpolatedValue.html#L97">97</a></td></tr>
<tr class="a">
<td>org/wattdepot/common/domainmodel/IntervalValue.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/IntervalValue.html#L87">87</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    InterpolatedValue other = (InterpolatedValue) obj;
    if (start == null) {
      if (other.start != null) {
        return false;
      }
    }
    else if (!start.equals(other.start)) {
      return false;
    }
    if (end == null) {
      if (other.end != null) {
        return false;
      }
    }
    else if (!end.equals(other.end)) {
      return false;
    }
    if (measurementType == null) {
      if (other.measurementType != null) {
        return false;
      }
    }
    else if (!measurementType.equals(other.measurementType)) {
      return false;
    }
    if (sensorId == null) {
      if (other.sensorId != null) {
        return false;
      }
    }
    else if (!sensorId.equals(other.sensorId)) {
      return false;
    }
    if (value == null) {
      if (other.value != null) {
        return false;
      }
    }
    else if (!value.equals(other.value)) {
      return false;
    }
    return true;
  }

  /**
   * @param meas a Measurement
   * @return true if this InterpolatedValue has the same sensorId, time,
   *         MeasurementType, and value as the Measurement.
   */
  public boolean equivalent(Measurement meas) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L319">319</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L298">298</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/StressCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressCollector.html#L135">135</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        &quot;Usage: EGaugeCollector &lt;server uri&gt; &lt;username&gt; &lt;password&gt; &lt;collectorid&gt;&quot;);
    options.addOption(&quot;s&quot;, &quot;server&quot;, true, &quot;WattDepot Server URI. (http://server.wattdepot.org)&quot;);
    options.addOption(&quot;u&quot;, &quot;username&quot;, true, &quot;Username&quot;);
    options.addOption(&quot;o&quot;, &quot;organizationId&quot;, true, &quot;User's Organization id.&quot;);
    options.addOption(&quot;p&quot;, &quot;password&quot;, true, &quot;Password&quot;);
    options.addOption(&quot;c&quot;, &quot;collector&quot;, true, &quot;Collector Process Definition Id&quot;);
    options.addOption(&quot;d&quot;, &quot;debug&quot;, false, &quot;Displays sensor data as it is sent to the server.&quot;);

    CommandLine cmd = null;
    String serverUri = null;
    String username = null;
    String organizationId = null;
    String password = null;
    String collectorId = null;
    boolean debug = false;

    CommandLineParser parser = new PosixParser();
    HelpFormatter formatter = new HelpFormatter();
    try {
      cmd = parser.parse(options, args);
    }
    catch (ParseException e) {
      System.err.println(&quot;Command line parsing failed. Reason: &quot; + e.getMessage() + &quot;. Exiting.&quot;);
      System.exit(1);
    }
    if (cmd.hasOption(&quot;h&quot;)) {
      formatter.printHelp(&quot;EGaugeCollector&quot;, options);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/common/domainmodel/InterpolatedValue.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/InterpolatedValue.html#L207">207</a></td></tr>
<tr class="b">
<td>org/wattdepot/common/domainmodel/IntervalValue.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/IntervalValue.html#L176">176</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    result = prime * result + ((end == null) ? 0 : end.hashCode());
    result = prime * result + ((measurementType == null) ? 0 : measurementType.hashCode());
    result = prime * result + ((sensorId == null) ? 0 : sensorId.hashCode());
    result = prime * result + ((value == null) ? 0 : value.hashCode());
    return result;
  }

  /**
   * @param end end date to set.
   */
  public void setEnd(Date end) {
    this.end = new Date(end.getTime());
  }

  /**
   * @param measurementType the measurementType to set
   */
  public void setMeasurementType(MeasurementType measurementType) {
    this.measurementType = measurementType;
  }

  /**
   * @param sensorId the sensorId to set
   */
  public void setSensorId(String sensorId) {
    this.sensorId = sensorId;
  }

  /**
   * @param start the start date to set.
   */
  public void setStart(Date start) {
    this.start = new Date(start.getTime());
  }

  /**
   * @param value the value to set
   */
  public void setValue(Double value) {
    this.value = value;
  }

  /*
   * (non-Javadoc)
   * 
   * @see java.lang.Object#toString()
   */
  @Override
  public String toString() {
    try {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueRate.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueRate.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueRate.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueRate.html#L80">80</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>      formatter.printHelp(&quot;GetDateValueRate&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://server.wattdepot.org/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = &quot;user&quot;;
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = &quot;organization&quot;;
    }
    if (cmd.hasOption(&quot;gps&quot;)) {
      getsPerSec = Integer.parseInt(cmd.getOptionValue(&quot;gps&quot;));
    }
    else {
      getsPerSec = 13;
    }
    debug = cmd.hasOption(&quot;d&quot;);
    if (debug) {
      System.out.println(&quot;Get Value(date) Rate:&quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueThroughput.html#L136">136</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.html#L137">137</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L137">137</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L136">136</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/PutThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutThroughput.html#L137">137</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>      formatter.printHelp(&quot;GetDateValueThroughput&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://server.wattdepot.org/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = &quot;user&quot;;
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = &quot;organization&quot;;
    }
    if (cmd.hasOption(&quot;n&quot;)) {
      numSamples = Integer.parseInt(cmd.getOptionValue(&quot;n&quot;));
    }
    else {
      numSamples = 13;
    }
    debug = cmd.hasOption(&quot;d&quot;);
    if (debug) {
      System.out.println(&quot;GetDateValue Throughput:&quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/common/domainmodel/MeasurementPruningDefinition.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/MeasurementPruningDefinition.html#L141">141</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/MeasurementPruningDefinitionImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/MeasurementPruningDefinitionImpl.html#L130">130</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    else if (!depositoryId.equals(other.depositoryId)) {
      return false;
    }
    if (id == null) {
      if (other.id != null) {
        return false;
      }
    }
    else if (!id.equals(other.id)) {
      return false;
    }
    if (ignoreWindowDays == null) {
      if (other.ignoreWindowDays != null) {
        return false;
      }
    }
    else if (!ignoreWindowDays.equals(other.ignoreWindowDays)) {
      return false;
    }
    if (minGapSeconds == null) {
      if (other.minGapSeconds != null) {
        return false;
      }
    }
    else if (!minGapSeconds.equals(other.minGapSeconds)) {
      return false;
    }
    if (name == null) {
      if (other.name != null) {
        return false;
      }
    }
    else if (!name.equals(other.name)) {
      return false;
    }
    if (sensorId == null) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/ClientProperties.java</td>
<td><a href="./xref/org/wattdepot/client/ClientProperties.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/ServerProperties.java</td>
<td><a href="./xref/org/wattdepot/server/ServerProperties.html#L149">149</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  }

  /**
   * Returns a string containing all current properties in alphabetical order.
   * Properties with the word &quot;password&quot; in their key list &quot;((hidden))&quot; rather
   * than their actual value for security reasons. This is not super
   * sophisticated - other properties such as database URLs might benefit from
   * being hidden too - but it should work for now.
   * 
   * @return A string with the properties.
   */
  public String echoProperties() {
    String cr = System.getProperty(&quot;line.separator&quot;);
    String eq = &quot; = &quot;;
    String pad = &quot;                &quot;;
    // Adding them to a treemap has the effect of alphabetizing them.
    TreeMap&lt;String, String&gt; alphaProps = new TreeMap&lt;String, String&gt;();
    for (Map.Entry&lt;Object, Object&gt; entry : this.properties.entrySet()) {
      String propName = (String) entry.getKey();
      String propValue = (String) entry.getValue();
      alphaProps.put(propName, propValue);
    }
    StringBuffer buff = new StringBuffer(25);
    buff.append(&quot;Server Properties:&quot;).append(cr);
    for (String key : alphaProps.keySet()) {
      if (key.contains(&quot;password&quot;)) {
        buff.append(pad).append(key).append(eq).append(&quot;((hidden))&quot;).append(cr);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L270">270</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L256">256</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>      System.err.format(&quot;URI %s was invalid leading to malformed URL%n&quot;, eGaugeUri);
    }
    catch (XPathExpressionException e) {
      System.err.println(&quot;Bad XPath expression, this should never happen.&quot;);
    }
    catch (ParserConfigurationException e) {
      System.err.println(&quot;Unable to configure XML parser, this is weird.&quot;);
    }
    catch (SAXException e) {
      System.err.format(
          &quot;%s: Got bad XML from eGauge sensor %s (%s), hopefully this is temporary.%n&quot;,
          Tstamp.makeTimestamp(), sensor.getName(), e);
    }
    catch (IOException e) {
      System.err.format(
          &quot;%s: Unable to retrieve data from eGauge sensor %s (%s), hopefully this is temporary.%n&quot;,
          Tstamp.makeTimestamp(), sensor.getName(), e);
    }

    if (meas != null) {
      try {
        this.client.putMeasurement(depository, meas);
      }
      catch (MeasurementTypeException e) {
        System.err.format(&quot;%s does not store %s measurements%n&quot;, depository.getName(),
            meas.getMeasurementType());
      }
      if (debug) {
        System.out.println(meas);
      }
    }
  }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/http/api/DepositoryAverageValuesServer.java</td>
<td><a href="./xref/org/wattdepot/server/http/api/DepositoryAverageValuesServer.html#L51">51</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/http/api/DepositoryValuesServer.java</td>
<td><a href="./xref/org/wattdepot/server/http/api/DepositoryValuesServer.html#L50">50</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public class DepositoryAverageValuesServer extends WattDepotServerResource {
  private String depositoryId;
  private String sensorId;
  /** The start of the range. */
  private String start;
  /** The end of the range. */
  private String end;
  /** The interval to calculate the average over. */
  private String interval;
  private String dataType;

  /*
   * (non-Javadoc)
   * 
   * @see org.restlet.resource.Resource#doInit()
   */
  @Override
  protected void doInit() throws ResourceException {
    super.doInit();
    this.sensorId = getQuery().getValues(Labels.SENSOR);
    this.start = getQuery().getValues(Labels.START);
    this.end = getQuery().getValues(Labels.END);
    this.depositoryId = getAttribute(Labels.DEPOSITORY_ID);
    this.interval = getQuery().getValues(Labels.INTERVAL);
    this.dataType = getQuery().getValues(Labels.VALUE_TYPE);
  }

  /**
   * retrieve the depository measurement list for a sensor.
   * 
   * @return measurement list.
   */
  public InterpolatedValueList doRetrieve() {
    getLogger().log(
        Level.INFO,
        &quot;GET /wattdepot/{&quot; + orgId + &quot;}/&quot; + Labels.DEPOSITORY + &quot;/{&quot; + depositoryId + &quot;}/&quot;
            + Labels.VALUES + &quot;/&quot; + Labels.AVERAGE + &quot;/?&quot; + Labels.SENSOR + &quot;={&quot; + sensorId + &quot;}&amp;&quot;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L353">353</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L332">332</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/SharkCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/SharkCollector.html#L232">232</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = UserInfo.ROOT.getUid();
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = Organization.ADMIN_GROUP.getId();
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;c&quot;)) {
      collectorId = cmd.getOptionValue(&quot;c&quot;);
    }
    else {
      collectorId = &quot;ilima_6th_power&quot;;
    }

    debug = cmd.hasOption(&quot;d&quot;);

    if (debug) {
      System.out.println(&quot;WattDepot Server: &quot; + serverUri);
      System.out.println(&quot;Username: &quot; + username);
      System.out.println(&quot;OrganizationID: &quot; + organizationId);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.html#L95">95</a></td></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.html#L182">182</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    DepositoryImpl other = (DepositoryImpl) obj;
    if (id == null) {
      if (other.id != null) {
        return false;
      }
    }
    else if (!id.equals(other.id)) {
      return false;
    }
    if (name == null) {
      if (other.name != null) {
        return false;
      }
    }
    else if (!name.equals(other.name)) {
      return false;
    }
    if (org == null) {
      if (other.org != null) {
        return false;
      }
    }
    else if (!org.equals(other.org)) {
      return false;
    }
    if (pk == null) {
      if (other.pk != null) {
        return false;
      }
    }
    else if (!pk.equals(other.pk)) {
      return false;
    }
    if (type == null) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L377">377</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L356">356</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/StressCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressCollector.html#L193">193</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    debug = cmd.hasOption(&quot;d&quot;);

    if (debug) {
      System.out.println(&quot;WattDepot Server: &quot; + serverUri);
      System.out.println(&quot;Username: &quot; + username);
      System.out.println(&quot;OrganizationID: &quot; + organizationId);
      System.out.println(&quot;Password: &quot; + password);
      System.out.println(&quot;Collector Process Definition Id: &quot; + collectorId);
      System.out.println(&quot;debug: &quot; + debug);
      System.out.println();
    }
    try {
      if (!MultiThreadedCollector.start(serverUri, username, organizationId, password, collectorId,
          debug)) {
        System.exit(1);
      }
    }
    catch (InterruptedException e) {
      e.printStackTrace();
      System.exit(1);
    }
    catch (BadCredentialException e) {
      e.printStackTrace();
      System.exit(1);
    }
  }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/CollectorProcessDefinitionImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/CollectorProcessDefinitionImpl.html#L121">121</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.html#L96">96</a></td></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.html#L183">183</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    if (id == null) {
      if (other.id != null) {
        return false;
      }
    }
    else if (!id.equals(other.id)) {
      return false;
    }
    if (name == null) {
      if (other.name != null) {
        return false;
      }
    }
    else if (!name.equals(other.name)) {
      return false;
    }
    if (org == null) {
      if (other.org != null) {
        return false;
      }
    }
    else if (!org.equals(other.org)) {
      return false;
    }
    if (pk == null) {
      if (other.pk != null) {
        return false;
      }
    }
    else if (!pk.equals(other.pk)) {
      return false;
    }
    if (pollingInterval == null) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/SharkCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/SharkCollector.html#L224">224</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/StressCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressCollector.html#L161">161</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>      formatter.printHelp(&quot;SharkCollector&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://localhost:8192/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = UserInfo.ROOT.getUid();
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = Organization.ADMIN_GROUP.getId();
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;c&quot;)) {
      collectorId = cmd.getOptionValue(&quot;c&quot;);
    }
    else {
      collectorId = &quot;ilima_6th_power&quot;;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueRate.html#L62">62</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueRate.html#L62">62</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueRate.html#L62">62</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueRate.html#L62">62</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        + &quot; -p &lt;password&gt; -o &lt;orgId&gt; -gps &lt;getsPerSecond&gt; [-d]&quot;);
    options.addOption(&quot;s&quot;, &quot;server&quot;, true, &quot;WattDepot Server URI. (http://server.wattdepot.org)&quot;);
    options.addOption(&quot;u&quot;, &quot;username&quot;, true, &quot;Username&quot;);
    options.addOption(&quot;o&quot;, &quot;organizationId&quot;, true, &quot;User's Organization id.&quot;);
    options.addOption(&quot;p&quot;, &quot;password&quot;, true, &quot;Password&quot;);
    options.addOption(&quot;gps&quot;, &quot;getsPerSecond&quot;, true,
        &quot;Number of gets per second.&quot;);
    options.addOption(&quot;d&quot;, &quot;debug&quot;, false, &quot;Displays statistics as the Measurements are stored.&quot;);
    CommandLineParser parser = new PosixParser();
    HelpFormatter formatter = new HelpFormatter();
    try {
      cmd = parser.parse(options, args);
    }
    catch (ParseException e) {
      System.err.println(&quot;Command line parsing failed. Reason: &quot; + e.getMessage() + &quot;. Exiting.&quot;);
      System.exit(1);
    }
    if (cmd.hasOption(&quot;h&quot;)) {
      formatter.printHelp(&quot;GetDateValueRate&quot;, options);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueThroughput.html#L119">119</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.html#L120">120</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/PutThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutThroughput.html#L120">120</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        + &quot; -p &lt;password&gt; -o &lt;orgId&gt; [-d]&quot;);
    options.addOption(&quot;s&quot;, &quot;server&quot;, true, &quot;WattDepot Server URI. (http://server.wattdepot.org)&quot;);
    options.addOption(&quot;u&quot;, &quot;username&quot;, true, &quot;Username&quot;);
    options.addOption(&quot;o&quot;, &quot;organizationId&quot;, true, &quot;User's Organization id.&quot;);
    options.addOption(&quot;p&quot;, &quot;password&quot;, true, &quot;Password&quot;);
    options.addOption(&quot;n&quot;, &quot;numSamples&quot;, true, &quot;Number of puts to sample.&quot;);
    options.addOption(&quot;d&quot;, &quot;debug&quot;, false, &quot;Displays statistics as the Measurements are stored.&quot;);
    CommandLineParser parser = new PosixParser();
    HelpFormatter formatter = new HelpFormatter();
    try {
      cmd = parser.parse(options, args);
    }
    catch (ParseException e) {
      System.err.println(&quot;Command line parsing failed. Reason: &quot; + e.getMessage() + &quot;. Exiting.&quot;);
      System.exit(1);
    }
    if (cmd.hasOption(&quot;h&quot;)) {
      formatter.printHelp(&quot;GetDateValueThroughput&quot;, options);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L120">120</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L119">119</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        + &quot; -p &lt;password&gt; -o &lt;orgId&gt; [-d]&quot;);
    options.addOption(&quot;s&quot;, &quot;server&quot;, true, &quot;WattDepot Server URI. (http://server.wattdepot.org)&quot;);
    options.addOption(&quot;u&quot;, &quot;username&quot;, true, &quot;Username&quot;);
    options.addOption(&quot;o&quot;, &quot;organizationId&quot;, true, &quot;User's Organization id.&quot;);
    options.addOption(&quot;p&quot;, &quot;password&quot;, true, &quot;Password&quot;);
    options.addOption(&quot;n&quot;, &quot;numSamples&quot;, true, &quot;Number of puts to sample.&quot;);
    options.addOption(&quot;d&quot;, &quot;debug&quot;, false, &quot;Displays statistics as the Gets are made.&quot;);
    CommandLineParser parser = new PosixParser();
    HelpFormatter formatter = new HelpFormatter();
    try {
      cmd = parser.parse(options, args);
    }
    catch (ParseException e) {
      System.err.println(&quot;Command line parsing failed. Reason: &quot; + e.getMessage() + &quot;. Exiting.&quot;);
      System.exit(1);
    }
    if (cmd.hasOption(&quot;h&quot;)) {
      formatter.printHelp(&quot;GetIntervalValueThroughput&quot;, options);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/common/domainmodel/SensorModel.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/SensorModel.html#L105">105</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/SensorModelImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/SensorModelImpl.html#L113">113</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    else if (!name.equals(other.name)) {
      return false;
    }
    if (protocol == null) {
      if (other.protocol != null) {
        return false;
      }
    }
    else if (!protocol.equals(other.protocol)) {
      return false;
    }
    if (type == null) {
      if (other.type != null) {
        return false;
      }
    }
    else if (!type.equals(other.type)) {
      return false;
    }
    if (version == null) {
      if (other.version != null) {
        return false;
      }
    }
    else if (!version.equals(other.version)) {
      return false;
    }
    return true;
  }

  /**
   * @return the id
   */
  public String getId() {
    return id;
  }

  /**
   * @return the name
   */
  public String getName() {
    return name;
  }

  /**
   * @return the protocol
   */
  public String getProtocol() {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/measurement/pruning/MeasurementPruner.java</td>
<td><a href="./xref/org/wattdepot/server/measurement/pruning/MeasurementPruner.html#L374">374</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/measurement/pruning/MeasurementPruner.java</td>
<td><a href="./xref/org/wattdepot/server/measurement/pruning/MeasurementPruner.html#L405">405</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            System.out.println(&quot;Sensor &quot; + s + &quot;: &quot; + windowStart + &quot; to &quot; + windowEnd + &quot; has &quot;
                + size + &quot; measurements&quot;);
          }
          int index = 1;
          int baseIndex = 0;
          while (index &lt; size - 1) {
            long secondsBetween = Math.abs((check.get(index).getDate().getTime() - check
                .get(baseIndex).getDate().getTime()) / 1000);
            if (secondsBetween &lt; definition.getMinGapSeconds()) {
              this.persistance.deleteMeasurement(this.definition.getDepositoryId(),
                  this.definition.getOrganizationId(), check.get(index++).getId());
              deleted++;
            }
            else {
              baseIndex = index;
              index++;
            }
          }
        }

      }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.html#L1337">1337</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.html#L1535">1535</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            &quot;FROM MeasurementImpl WHERE depository = :depot AND sensor = :sensor ORDER BY timestamp asc&quot;)
        .setParameter(&quot;depot&quot;, depot).setParameter(&quot;sensor&quot;, sensor).setMaxResults(1).list();
    // List&lt;MeasurementImpl&gt; result = (List&lt;MeasurementImpl&gt;) session
    // .createQuery(
    // &quot;FROM MeasurementImpl WHERE depository = :depot AND sensor = :sensor &quot;
    // + &quot;AND timestamp IN (SELECT min(timestamp) FROM MeasurementImpl WHERE &quot;
    // + &quot;depository = :depot AND sensor = :sensor)&quot;).setParameter(&quot;depot&quot;,
    // depot)
    // .setParameter(&quot;sensor&quot;, sensor).list();
    if (result.size() &gt; 0) {
      MeasurementImpl meas = result.get(0);
      value = new InterpolatedValue(sensorId, meas.getValue(), depot.getType().toMeasurementType(),
          meas.getTimestamp());
    }
    session.getTransaction().commit();
    session.close();
    if (timingp) {
      endTime = System.nanoTime();
      diff = endTime - startTime;
      padding = padding.substring(0, padding.length() - 2);
      timingLogger.log(Level.SEVERE, padding + &quot;getEarliestMeasuredValueNoCheck(&quot; + depotId + &quot;, &quot;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.html#L237">237</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L237">237</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L235">235</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            this.timer.schedule(new GetEarliestValueTask(serverUri, username, orgId, password, debug),
                0, 1000);
            if (debug) {
              System.out.println(&quot;Starting task &quot; + i);
            }
          }
          Thread.sleep(10);
        }
        catch (BadCredentialException e) { // NOPMD
          // should not happen.
          e.printStackTrace();
        }
        catch (IdNotFoundException e) { // NOPMD
          // should not happen.
          e.printStackTrace();
        }
        catch (BadSensorUriException e) { // NOPMD
          // should not happen
          e.printStackTrace();
        }
        catch (InterruptedException e) {  // NOPMD
          // should not happen
          e.printStackTrace();
        }
      }
    }
  }

  /**
   * @param stats the DescriptiveStatistics to calculate the mean put time.
   * @return The estimated put rate based upon the time it takes to put a single
   *         measurement.
   */
  private Long calculateGetRate(DescriptiveStatistics stats) {
    double putTime = stats.getMean();
    Long ret = null;
    double numPuts = 1.0 / putTime;
    ret = Math.round(numPuts);
    return ret;
  }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L182">182</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L180">180</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        new GetIntervalValueThroughput(serverUri, username, organizationId, password, debug), 0,
        numSamples * 1000);
  }

  /*
   * (non-Javadoc)
   * 
   * @see java.util.TimerTask#run()
   */
  @Override
  public void run() {
    // wake up to check the stats.
    if (this.numChecks == 0) {
      // haven't actually run so do nothing.
      this.numChecks++;
      // should I put a bogus first rate so we don't start too fast?
      this.averageGetTime.addValue(1.0); // took 1 second per so we start with a
                                         // low average.
    }
    else {
      this.timer.cancel();
      this.numChecks++;
      Double aveTime = sampleTask.getAverageTime();
      this.averageGetTime.addValue(aveTime / 1E9);
      this.averageMinGetTime.addValue(sampleTask.getMinTime() / 1E9);
      this.averageMaxGetTime.addValue(sampleTask.getMaxTime() / 1E9);
      this.calculatedGetsPerSec = calculateGetRate(averageGetTime);
      this.getsPerSec = calculatedGetsPerSec;
      // System.out.println(&quot;Min put time = &quot; + (sampleTask.getMinGetTime() /
      // 1E9));
      System.out.println(&quot;Ave get value (date, date) time = &quot; + (aveTime / 1E9) + &quot; =&gt; &quot;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.html#L2892">2892</a></td></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/WattDepotPersistenceImpl.html#L3017">3017</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>      boolean check) throws NoMeasurementException, IdNotFoundException {
    if (check) {
      getOrganization(orgId, check);
      getDepository(depotId, orgId, check);
      getSensor(sensorId, orgId, check);
    }
    Double ret = null;
    Session session = Manager.getFactory(getServerProperties()).openSession();
    session.beginTransaction();
    DepositoryImpl depot = retrieveDepository(session, depotId, orgId);
    SensorImpl sensor = retrieveSensor(session, sensorId, orgId);
    @SuppressWarnings(&quot;unchecked&quot;)
    List&lt;MeasurementImpl&gt; result = (List&lt;MeasurementImpl&gt;) session
        .createQuery(
            &quot;FROM MeasurementImpl WHERE timestamp = :time AND depository = :depot AND sensor = :sensor&quot;)
        .setParameter(&quot;time&quot;, timestamp).setParameter(&quot;depot&quot;, depot)
        .setParameter(&quot;sensor&quot;, sensor).setMaxResults(1).list();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L153">153</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L130">130</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>  public EGaugeCollector(String serverUri, String username, String orgId, String password,
      Sensor sensor, Long pollingInterval, Depository depository, boolean debug)
      throws BadCredentialException, BadSensorUriException, IdNotFoundException {
    super(serverUri, username, orgId, password, sensor.getId(), pollingInterval, depository,
        debug);
    this.measType = depository.getMeasurementType();
    this.measUnit = Unit.valueOf(measType.getUnits());
    this.sensor = client.getSensor(definition.getSensorId());

    Property prop = this.definition.getProperty(&quot;registerName&quot;);
    if (prop != null) {
      this.registerName = prop.getValue();
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueThroughput.html#L180">180</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.html#L182">182</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    t.schedule(new GetDateValueThroughput(serverUri, username, organizationId, password, debug), 0,
        numSamples * 1000);
  }

  /*
   * (non-Javadoc)
   * 
   * @see java.util.TimerTask#run()
   */
  @Override
  public void run() {
    // wake up to check the stats.
    if (this.numChecks == 0) {
      // haven't actually run so do nothing.
      this.numChecks++;
      // should I put a bogus first rate so we don't start too fast?
      // this.averageGetTime.addValue(1.0); // took 1 second per so we start with a
                                         // low average.
    }
    else {
      this.timer.cancel();
      this.numChecks++;
      Double aveTime = sampleTask.getAverageTime();
      this.averageGetTime.addValue(aveTime / 1E9);
      this.averageMinGetTime.addValue(sampleTask.getMinTime() / 1E9);
      this.averageMaxGetTime.addValue(sampleTask.getMaxTime() / 1E9);
      this.calculatedGetsPerSec = calculateGetRate(averageGetTime);
      this.getsPerSec = calculatedGetsPerSec;
      // System.out.println(&quot;Min put time = &quot; + (sampleTask.getMinTime() /
      // 1E9));
      System.out.println(&quot;Ave get value (date) time = &quot; + (aveTime / 1E9) + &quot; =&gt; &quot;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/CollectorProcessDefinitionImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/CollectorProcessDefinitionImpl.html#L126">126</a></td></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.html#L101">101</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.html#L188">188</a></td></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/SensorImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/SensorImpl.html#L238">238</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    else if (!id.equals(other.id)) {
      return false;
    }
    if (name == null) {
      if (other.name != null) {
        return false;
      }
    }
    else if (!name.equals(other.name)) {
      return false;
    }
    if (org == null) {
      if (other.org != null) {
        return false;
      }
    }
    else if (!org.equals(other.org)) {
      return false;
    }
    if (pk == null) {
      if (other.pk != null) {
        return false;
      }
    }
    else if (!pk.equals(other.pk)) {
      return false;
    }
    if (pollingInterval == null) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L97">97</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L133">133</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    super(serverUri, username, orgId, password, collectorId, debug);
    this.measType = depository.getMeasurementType();
    this.measUnit = Unit.valueOf(measType.getUnits());
    this.sensor = client.getSensor(definition.getSensorId());

    Property prop = this.definition.getProperty(&quot;registerName&quot;);
    if (prop != null) {
      this.registerName = prop.getValue();
    }
    try {
      new URL(sensor.getUri());
      this.noaaWeatherUri = sensor.getUri();
    }
    catch (MalformedURLException e) {
      throw new BadSensorUriException(client.getSensor(definition.getSensorId()).getUri()
          + &quot; is not a valid URI.&quot;);
    }
  }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/MultiThreadedCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MultiThreadedCollector.html#L194">194</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/MultiThreadedCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MultiThreadedCollector.html#L218">218</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>          SharkCollector collector = new SharkCollector(serverUri, username, orgId, password,
              collectorId, debug);
          if (collector.isValid()) {
            System.out.format(&quot;Started polling %s sensor at %s%n&quot;, sensor.getName(),
                Tstamp.makeTimestamp());
            t.schedule(collector, 0, definition.getPollingInterval() * 1000);
          }
          else {
            System.err.format(&quot;Cannot poll %s sensor%n&quot;, sensor.getName());
            return false;
          }
        }
        catch (IdNotFoundException e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
        }
        catch (BadSensorUriException e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
        }
      }
      else if (model.getName().equals(SensorModelHelper.STRESS)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/MeasurementSummaryClient.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MeasurementSummaryClient.html#L128">128</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/StressTestCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressTestCollector.html#L153">153</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/csv/OrganizationDomainMain.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/csv/OrganizationDomainMain.html#L85">85</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetDateValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueRate.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueThroughput.html#L136">136</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueRate.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.html#L137">137</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueRate.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L137">137</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueRate.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L136">136</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/PutCollectorRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutCollectorRate.html#L82">82</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/PutRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutRate.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/PutThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutThroughput.html#L137">137</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>      formatter.printHelp(&quot;StressTestCollector&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://server.wattdepot.org/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = &quot;user&quot;;
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = &quot;organization&quot;;
    }
    if (cmd.hasOption(&quot;c&quot;)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/MeasurementTypeImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/MeasurementTypeImpl.html#L84">84</a></td></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/OrganizationImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/OrganizationImpl.html#L97">97</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/SensorModelImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/SensorModelImpl.html#L91">91</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    MeasurementTypeImpl other = (MeasurementTypeImpl) obj;
    if (id == null) {
      if (other.id != null) {
        return false;
      }
    }
    else if (!id.equals(other.id)) {
      return false;
    }
    if (name == null) {
      if (other.name != null) {
        return false;
      }
    }
    else if (!name.equals(other.name)) {
      return false;
    }
    if (pk == null) {
      if (other.pk != null) {
        return false;
      }
    }
    else if (!pk.equals(other.pk)) {
      return false;
    }
    if (units == null) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L324">324</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L303">303</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/SharkCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/SharkCollector.html#L203">203</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/StressCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressCollector.html#L140">140</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    options.addOption(&quot;c&quot;, &quot;collector&quot;, true, &quot;Collector Process Definition Id&quot;);
    options.addOption(&quot;d&quot;, &quot;debug&quot;, false, &quot;Displays sensor data as it is sent to the server.&quot;);

    CommandLine cmd = null;
    String serverUri = null;
    String username = null;
    String organizationId = null;
    String password = null;
    String collectorId = null;
    boolean debug = false;

    CommandLineParser parser = new PosixParser();
    HelpFormatter formatter = new HelpFormatter();
    try {
      cmd = parser.parse(options, args);
    }
    catch (ParseException e) {
      System.err.println(&quot;Command line parsing failed. Reason: &quot; + e.getMessage() + &quot;. Exiting.&quot;);
      System.exit(1);
    }
    if (cmd.hasOption(&quot;h&quot;)) {
      formatter.printHelp(&quot;EGaugeCollector&quot;, options);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L353">353</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L332">332</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/StressCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressCollector.html#L169">169</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = UserInfo.ROOT.getUid();
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = Organization.ADMIN_GROUP.getId();
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;c&quot;)) {
      collectorId = cmd.getOptionValue(&quot;c&quot;);
    }
    else {
      collectorId = &quot;ilima_6th_power&quot;;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/AllOrganizationCollectors.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/AllOrganizationCollectors.html#L76">76</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/MeasurementSummaryClient.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MeasurementSummaryClient.html#L128">128</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/StressTestCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressTestCollector.html#L153">153</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/csv/OrganizationDomainMain.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/csv/OrganizationDomainMain.html#L85">85</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueRate.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetDateValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueThroughput.html#L136">136</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueRate.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.html#L137">137</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueRate.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L137">137</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetLatestValueRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueRate.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L136">136</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/PutCollectorRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutCollectorRate.html#L82">82</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/PutRate.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutRate.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/PutThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/PutThroughput.html#L137">137</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>      formatter.printHelp(&quot;AllOrganizationCollectors&quot;, options);
      System.exit(0);
    }
    if (cmd.hasOption(&quot;s&quot;)) {
      serverUri = cmd.getOptionValue(&quot;s&quot;);
    }
    else {
      serverUri = &quot;http://server.wattdepot.org/&quot;;
    }
    if (cmd.hasOption(&quot;u&quot;)) {
      username = cmd.getOptionValue(&quot;u&quot;);
    }
    else {
      username = &quot;user&quot;;
    }
    if (cmd.hasOption(&quot;p&quot;)) {
      password = cmd.getOptionValue(&quot;p&quot;);
    }
    else {
      password = &quot;default&quot;;
    }
    if (cmd.hasOption(&quot;o&quot;)) {
      organizationId = cmd.getOptionValue(&quot;o&quot;);
    }
    else {
      organizationId = &quot;organization&quot;;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/DepositoryImpl.html#L173">173</a></td></tr>
<tr class="a">
<td>org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.java</td>
<td><a href="./xref/org/wattdepot/server/depository/impl/hibernate/SensorGroupImpl.html#L147">147</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  }

  /*
   * (non-Javadoc)
   * 
   * @see java.lang.Object#hashCode()
   */
  @Override
  public int hashCode() {
    final int prime = 31;
    int result = 1;
    result = prime * result + ((id == null) ? 0 : id.hashCode());
    result = prime * result + ((name == null) ? 0 : name.hashCode());
    result = prime * result + ((org == null) ? 0 : org.hashCode());
    result = prime * result + ((pk == null) ? 0 : pk.hashCode());
    result = prime * result + ((type == null) ? 0 : type.hashCode());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L384">384</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L363">363</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/SharkCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/SharkCollector.html#L262">262</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/StressCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/StressCollector.html#L200">200</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>      System.out.println(&quot;OrganizationID: &quot; + organizationId);
      System.out.println(&quot;Password: &quot; + password);
      System.out.println(&quot;Collector Process Definition Id: &quot; + collectorId);
      System.out.println(&quot;debug: &quot; + debug);
      System.out.println();
    }
    try {
      if (!MultiThreadedCollector.start(serverUri, username, organizationId, password, collectorId,
          debug)) {
        System.exit(1);
      }
    }
    catch (InterruptedException e) {
      e.printStackTrace();
      System.exit(1);
    }
    catch (BadCredentialException e) {
      e.printStackTrace();
      System.exit(1);
    }
  }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/WattDepotClient.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/WattDepotClient.html#L1055">1055</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/WattDepotClient.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/WattDepotClient.html#L1116">1116</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  public InterpolatedValueList getValues(Depository depository, Sensor sensor, Date start, Date end, Integer interval, Boolean usePointValues) throws NoMeasurementException {
    ClientResource client = null;
    try {
      StringBuilder sb = new StringBuilder();
      sb.append(this.organizationId);
      sb.append(&quot;/&quot;);
      sb.append(Labels.DEPOSITORY);
      sb.append(&quot;/&quot;);
      sb.append(depository.getId());
      sb.append(&quot;/&quot;);
      sb.append(Labels.VALUES);
      sb.append(&quot;/?&quot;);
      sb.append(Labels.SENSOR);
      sb.append(&quot;=&quot;);
      sb.append(sensor.getId());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/EGaugeCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/EGaugeCollector.html#L104">104</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/NOAAWeatherCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/NOAAWeatherCollector.html#L94">94</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  public EGaugeCollector(String serverUri, String username, String orgId, String password,
      String collectorId, boolean debug) throws BadCredentialException, IdNotFoundException,
      BadSensorUriException {
    super(serverUri, username, orgId, password, collectorId, debug);
    this.measType = depository.getMeasurementType();
    this.measUnit = Unit.valueOf(measType.getUnits());
    this.sensor = client.getSensor(definition.getSensorId());

    Property prop = this.definition.getProperty(&quot;registerName&quot;);
    if (prop != null) {
      this.registerName = prop.getValue();
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/common/domainmodel/InterpolatedValue.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/InterpolatedValue.html#L74">74</a></td></tr>
<tr class="a">
<td>org/wattdepot/common/domainmodel/IntervalValue.java</td>
<td><a href="./xref/org/wattdepot/common/domainmodel/IntervalValue.html#L62">62</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  public InterpolatedValue(String sensorId, Double value, MeasurementType measurementType, Date start, Date end) {
    this.sensorId = sensorId;
    this.value = value;
    this.measurementType = measurementType;
    this.start = new Date(start.getTime());
    this.end = new Date(end.getTime());
  }
  /*
   * (non-Javadoc)
   * 
   * @see java.lang.Object#equals(java.lang.Object)
   */
  @Override
  public boolean equals(Object obj) {
    if (this == obj) {
      return true;
    }
    if (obj == null) {
      return false;
    }
    if (getClass() != obj.getClass()) {
      return false;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/MultiThreadedCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MultiThreadedCollector.html#L194">194</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/collector/MultiThreadedCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MultiThreadedCollector.html#L218">218</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/collector/MultiThreadedCollector.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/collector/MultiThreadedCollector.html#L241">241</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>          SharkCollector collector = new SharkCollector(serverUri, username, orgId, password,
              collectorId, debug);
          if (collector.isValid()) {
            System.out.format(&quot;Started polling %s sensor at %s%n&quot;, sensor.getName(),
                Tstamp.makeTimestamp());
            t.schedule(collector, 0, definition.getPollingInterval() * 1000);
          }
          else {
            System.err.format(&quot;Cannot poll %s sensor%n&quot;, sensor.getName());
            return false;
          }
        }
        catch (IdNotFoundException e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
        }
        catch (BadSensorUriException e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
        }
      }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetDateValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetDateValueThroughput.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetEarliestValueThroughput.html#L80">80</a></td></tr>
<tr class="a">
<td>org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetIntervalValueThroughput.html#L80">80</a></td></tr>
<tr class="b">
<td>org/wattdepot/client/http/api/performance/GetLatestValueThroughput.java</td>
<td><a href="./xref/org/wattdepot/client/http/api/performance/GetLatestValueThroughput.html#L80">80</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>  public GetDateValueThroughput(String serverUri, String username, String orgId, String password,
      boolean debug) throws BadCredentialException, IdNotFoundException, BadSensorUriException {
    this.serverUri = serverUri;
    this.username = username;
    this.orgId = orgId;
    this.password = password;
    this.debug = debug;
    this.numChecks = 0;
    this.getsPerSec = 1l;
    this.calculatedGetsPerSec = 1l;
    this.averageMaxGetTime = new DescriptiveStatistics();
    this.averageMinGetTime = new DescriptiveStatistics();
    this.averageGetTime = new DescriptiveStatistics();
    this.timer = new Timer(&quot;throughput&quot;);
    this.sampleTask = new GetDateValueTask(serverUri, username, orgId, password, debug);</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2015
                        <a href="http://csdl.ics.hawaii.edu">Collaborative Software Development Laboratory</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
