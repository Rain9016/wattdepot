<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>DescriptiveStats.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">WattDepot</a> &gt; <a href="index.html" class="el_package">org.wattdepot.common.analysis</a> &gt; <span class="el_source">DescriptiveStats.java</span></div><h1>DescriptiveStats.java</h1><pre class="source lang-java linenums">/**
 * DescriptiveStats.java This file is part of WattDepot.
 *
 * Copyright (C) 2013  Cam Moore
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package org.wattdepot.common.analysis;

import java.util.ArrayList;

import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;
import org.wattdepot.common.domainmodel.InterpolatedValue;
import org.wattdepot.common.domainmodel.Labels;
import org.wattdepot.common.domainmodel.InterpolatedValueList;
import org.wattdepot.common.domainmodel.Measurement;
import org.wattdepot.common.domainmodel.MeasurementList;

/**
 * DescriptiveStats - Simple way of getting descriptive statistics for different
 * WattDepot measurement and interpolated values lists.
 * 
 * @author Cam Moore
 * 
 */
public class DescriptiveStats {

  private DescriptiveStatistics data;

  /**
   * @param meas MeasurementList.
   */
<span class="nc" id="L44">  public DescriptiveStats(MeasurementList meas) {</span>
<span class="nc" id="L45">    this.data = new DescriptiveStatistics();</span>
<span class="nc bnc" id="L46" title="All 2 branches missed.">    for (Measurement m : meas.getMeasurements()) {</span>
<span class="nc" id="L47">      data.addValue(m.getValue());</span>
<span class="nc" id="L48">    }</span>
<span class="nc" id="L49">  }</span>
  
  /**
   * @param meas the Measurements.
   * @param valueType The type of value to use either Labels.POINT or Labels.INTERVAL.
   */
<span class="nc" id="L55">  public DescriptiveStats(MeasurementList meas, String valueType) {</span>
<span class="nc" id="L56">    this.data = new DescriptiveStatistics();</span>
<span class="nc bnc" id="L57" title="All 2 branches missed.">    if (Labels.POINT.equals(valueType)) {</span>
<span class="nc bnc" id="L58" title="All 2 branches missed.">      for (Measurement m : meas.getMeasurements()) {</span>
<span class="nc" id="L59">        data.addValue(m.getValue());</span>
<span class="nc" id="L60">      }</span>
    }
<span class="nc bnc" id="L62" title="All 2 branches missed.">    else if (Labels.INTERVAL.equals(valueType)) {</span>
<span class="nc" id="L63">      ArrayList&lt;Measurement&gt; measurements = meas.getMeasurements();</span>
<span class="nc bnc" id="L64" title="All 2 branches missed.">      for (int i = 1; i &lt; measurements.size(); i++) {</span>
<span class="nc" id="L65">        Measurement start = measurements.get(i - 1);</span>
<span class="nc" id="L66">        Measurement end = measurements.get(i);</span>
<span class="nc" id="L67">        data.addValue(end.getValue() - start.getValue());</span>
      }
    }
<span class="nc" id="L70">  }</span>
  
  /**
   * @param meas MeasuredValueList.
   */
<span class="nc" id="L75">  public DescriptiveStats(InterpolatedValueList meas) {</span>
<span class="nc" id="L76">    this.data = new DescriptiveStatistics();</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">    for (InterpolatedValue v : meas.getInterpolatedValues()) {</span>
<span class="nc" id="L78">      data.addValue(v.getValue());</span>
<span class="nc" id="L79">    }</span>
<span class="nc" id="L80">  }</span>

  /**
   * @param v the value to add.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#addValue(double)
   */
  public void addValue(double v) {
<span class="nc" id="L87">    data.addValue(v);</span>
<span class="nc" id="L88">  }</span>

  /**
   * 
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#clear()
   */
  public void clear() {
<span class="nc" id="L95">    data.clear();</span>
<span class="nc" id="L96">  }</span>

  /**
   * @param index the index.
   * @return get the value at the index.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getElement(int)
   */
  public double getElement(int index) {
<span class="nc" id="L104">    return data.getElement(index);</span>
  }

  /**
   * @return the geometric mean of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getGeometricMean()
   */
  public double getGeometricMean() {
<span class="nc" id="L112">    return data.getGeometricMean();</span>
  }

  /**
   * @return the Kurtosis of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getKurtosis()
   */
  public double getKurtosis() {
<span class="nc" id="L120">    return data.getKurtosis();</span>
  }

  /**
   * @return the maximum value.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getMax()
   */
  public double getMax() {
<span class="nc" id="L128">    return data.getMax();</span>
  }

  /**
   * @return the mean value.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getMean()
   */
  public double getMean() {
<span class="nc" id="L136">    return data.getMean();</span>
  }

  /**
   * @return the minimum value.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getMin()
   */
  public double getMin() {
<span class="nc" id="L144">    return data.getMin();</span>
  }

  /**
   * @return the number of values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getN()
   */
  public long getN() {
<span class="nc" id="L152">    return data.getN();</span>
  }

  /**
   * @return the population variance of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getPopulationVariance()
   */
  public double getPopulationVariance() {
<span class="nc" id="L160">    return data.getPopulationVariance();</span>
  }

  /**
   * @return the skewness of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getSkewness()
   */
  public double getSkewness() {
<span class="nc" id="L168">    return data.getSkewness();</span>
  }

  /**
   * @return the values in sorted order.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getSortedValues()
   */
  public double[] getSortedValues() {
<span class="nc" id="L176">    return data.getSortedValues();</span>
  }

  /**
   * @return the standard deviation of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getStandardDeviation()
   */
  public double getStandardDeviation() {
<span class="nc" id="L184">    return data.getStandardDeviation();</span>
  }

  /**
   * @return the sum of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getSum()
   */
  public double getSum() {
<span class="nc" id="L192">    return data.getSum();</span>
  }

  /**
   * @return the sum of the square of the values
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getSumsq()
   */
  public double getSumsq() {
<span class="nc" id="L200">    return data.getSumsq();</span>
  }

  /**
   * @return an array of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getValues()
   */
  public double[] getValues() {
<span class="nc" id="L208">    return data.getValues();</span>
  }

  /**
   * @return the variance of the values.
   * @see org.apache.commons.math3.stat.descriptive.DescriptiveStatistics#getVariance()
   */
  public double getVariance() {
<span class="nc" id="L216">    return data.getVariance();</span>
  }
  
  
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.3.201306030806</span></div></body></html>